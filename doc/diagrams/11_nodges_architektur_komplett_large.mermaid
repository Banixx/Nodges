%%{init: {'theme':'base', 'themeVariables': {'primaryColor': '#d14b4bff', 'primaryTextColor': '#c43535ff', 'primaryBorderColor': '#000000', 'lineColor': '#000000', 'sectionBkgColor': '#f5f5dc', 'altSectionBkgColor': '#f5f5dc', 'gridColor': '#000000', 'secondaryColor': '#f5f5dc', 'tertiaryColor': '#ffffff'}, 'flowchart': {'fontSize': '6px'}}}%%
graph TB
    %% === ENTRY POINTS ===
    HTML[index.html<br/>Main HTML Entry]
    MAIN[main.js<br/>Application Bootstrap]
    DATA[data.js<br/>Data Loading Logic]
    
    %% === CORE SYSTEM ===
    subgraph CORE["CORE SYSTEM"]
        STATE[StateManager.js<br/>Global State & Subscribers]
        CENTRAL[CentralEventManager.js<br/>Event Hub & Raycasting]
        INTERACT[InteractionManager.js<br/>User Interaction Coordinator]
        LAYOUT[LayoutManager.js<br/>Layout Algorithms]
        UI[UIManager.js<br/>UI Elements & Panels]
    end
    
    %% === EFFECTS SYSTEM ===
    subgraph EFFECTS["EFFECTS SYSTEM"]
        HIGHLIGHT[HighlightManager.js<br/>Visual Highlights]
        GLOW[GlowEffect.js<br/>Glow Animations]
    end
    
    %% === UTILITY MANAGERS ===
    subgraph UTILS["UTILITY MANAGERS"]
        RAYCAST[RaycastManager.js<br/>3D Object Detection]
        SELECT[SelectionManager.js<br/>Object Selection Logic]
        SEARCH[SearchManager.js<br/>Search Functionality]
        KEYBOARD[KeyboardShortcuts.js<br/>Hotkey Management]
    end
    
    %% === DATA MANAGEMENT ===
    subgraph DATAMGMT["DATA MANAGEMENT"]
        FILE[FileHandler.js<br/>File I/O Operations]
        IMPORT[ImportManager.js<br/>Data Import Logic]
        EXPORT[ExportManager.js<br/>Data Export Logic]
        NETWORK[NetworkAnalyzer.js<br/>Network Analysis]
    end
    
    %% === VISUALIZATION ===
    subgraph VISUAL["VISUALIZATION"]
        NODEOBJ[Node.js<br/>Node Object Class]
        EDGEOBJ[Edge.js<br/>Edge Object Class]
        EDGELABEL[EdgeLabelManager.js<br/>Edge Labels]
        GROUND[GroundManager.js<br/>Ground/Background]
    end
    
    %% === PERFORMANCE & OPTIMIZATION ===
    subgraph PERF["PERFORMANCE"]
        PERFOPT[PerformanceOptimizer.js<br/>Performance Tuning]
        FPS[FPSMonitor.js<br/>Frame Rate Monitor]
        BATCH[BatchOperations.js<br/>Batch Processing]
        WORKER[layout-worker.js<br/>Web Worker for Layouts]
    end
    
    %% === SPECIALIZED FEATURES ===
    subgraph FEATURES["SPECIALIZED FEATURES"]
        PATH[PathFinder.js<br/>Path Finding Algorithms]
        NEIGHBOR[NeighborhoodHighlighter.js<br/>Neighbor Highlighting]
        GROUPS[NodeGroupManager.js<br/>Node Grouping]
        LAYOUTGUI[LayoutGUI.js<br/>Layout Control Interface]
    end
    
    %% === EXTERNAL DEPENDENCIES ===
    subgraph EXTERNAL["EXTERNAL LIBRARIES"]
        THREE[Three.js<br/>3D Graphics Engine]
        ORBIT[OrbitControls<br/>Camera Controls]
        JSON[JSON Data Files<br/>Network Data]
    end
    
    %% === MAIN CONNECTIONS ===
    HTML -.->|entry| MAIN
    MAIN -.->|entry| DATA
    MAIN -.->|entry| STATE
    MAIN -.->|entry| CENTRAL
    MAIN -.->|entry| INTERACT
    MAIN -.->|entry| UI
    MAIN -.->|entry| LAYOUT
    
    %% === CORE INTERCONNECTIONS ===
    CENTRAL -.->|core| STATE
    CENTRAL -.->|core| RAYCAST
    CENTRAL -.->|core| INTERACT
    
    INTERACT -.->|core| STATE
    INTERACT -.->|core| HIGHLIGHT
    INTERACT -.->|core| SELECT
    INTERACT -.->|core| UI
    
    STATE -.->|core| HIGHLIGHT
    STATE -.->|core| GLOW
    STATE -.->|core| UI
    
    %% === UTILITY CONNECTIONS ===
    CENTRAL -.->|core| KEYBOARD
    INTERACT -.->|core| SEARCH
    SELECT -.->|util| HIGHLIGHT
    RAYCAST -.->|util| SELECT
    
    %% === DATA FLOW ===
    DATA -.->|entry| FILE
    FILE -.->|data| IMPORT
    IMPORT -.->|data| NETWORK
    NETWORK -.->|data| NODEOBJ
    NETWORK -.->|data| EDGEOBJ
    
    %% === LAYOUT CONNECTIONS ===
    LAYOUT -.->|core| WORKER
    LAYOUT -.->|core| NODEOBJ
    LAYOUT -.->|core| EDGEOBJ
    LAYOUTGUI -.->|feature| LAYOUT
    
    %% === VISUALIZATION CONNECTIONS ===
    NODEOBJ -.->|visual| HIGHLIGHT
    EDGEOBJ -.->|visual| HIGHLIGHT
    EDGEOBJ -.->|visual| EDGELABEL
    GROUND -.->|visual| THREE
    
    %% === PERFORMANCE CONNECTIONS ===
    PERFOPT -.->|perf| BATCH
    FPS -.->|perf| UI
    BATCH -.->|perf| NODEOBJ
    BATCH -.->|perf| EDGEOBJ
    
    %% === FEATURE CONNECTIONS ===
    PATH -.->|feature| NODEOBJ
    PATH -.->|feature| EDGEOBJ
    NEIGHBOR -.->|feature| HIGHLIGHT
    GROUPS -.->|feature| SELECT
    GROUPS -.->|feature| HIGHLIGHT
    
    %% === EXTERNAL CONNECTIONS ===
    MAIN -.->|entry| THREE
    MAIN -.->|entry| ORBIT
    DATA -.->|entry| JSON
    NODEOBJ -.->|visual| THREE
    EDGEOBJ -.->|visual| THREE
    HIGHLIGHT -.->|effect| THREE
    GLOW -.->|effect| THREE
    
    %% === STYLING ===
    classDef coreClass fill:#bbdefb,stroke:#01579b,stroke-width:2px,color:#000000
    classDef effectClass fill:#f5f5dc,stroke:#4a148c,stroke-width:2px,color:#000000
    classDef utilClass fill:#c8e6c9,stroke:#1b5e20,stroke-width:2px,color:#000000
    classDef dataClass fill:#ffe0b2,stroke:#e65100,stroke-width:2px,color:#000000
    classDef visualClass fill:#f8bbd9,stroke:#880e4f,stroke-width:2px,color:#000000
    classDef perfClass fill:#dcedc8,stroke:#33691e,stroke-width:2px,color:#000000
    classDef featureClass fill:#b2dfdb,stroke:#004d40,stroke-width:2px,color:#000000
    classDef externalClass fill:#e0e0e0,stroke:#424242,stroke-width:2px,color:#000000
    classDef entryClass fill:#ffcc02,stroke:#ff6f00,stroke-width:3px,color:#000000
    
    class STATE,CENTRAL,INTERACT,LAYOUT,UI coreClass
    class HIGHLIGHT,GLOW effectClass
    class RAYCAST,SELECT,SEARCH,KEYBOARD utilClass
    class FILE,IMPORT,EXPORT,NETWORK dataClass
    class NODEOBJ,EDGEOBJ,EDGELABEL,GROUND visualClass
    class PERFOPT,FPS,BATCH,WORKER perfClass
    class PATH,NEIGHBOR,GROUPS,LAYOUTGUI featureClass
    class THREE,ORBIT,JSON externalClass
    class HTML,MAIN,DATA entryClass